import 'package:html_unescape/html_unescape.dart';

mixin SyllabusSearchFilterResolver {
  Map<String, dynamic> resolveSyllabusSearchFilter(String content) {
    final Map<String, dynamic> filter = {};
    final unescape = HtmlUnescape();
    final matchs = RegExp(r'<select id="form1:([\s\S]+?)" name="form1:([\s\S]+?)" class="selectOneMenu" size="1" tabindex="\d+">([\s\S]+?)</select>', caseSensitive: false).allMatches(content);

    for (final match in matchs) {
      final name = unescape.convert(match.group(2));
      if (!filter.containsKey(name)) {
        filter[name] = {};
      }

      final optionReg = RegExp(r'<option value="([\S\s]*?)"[\S\s]*?>([\S\s]+?)</option>', caseSensitive: false);
      final options = optionReg.allMatches(match.group(3));
      for (final option in options) {
        final value = unescape.convert(option.group(1));
        final text = unescape.convert(option.group(2));

        filter[name][text] = value;
      }
    }

    filter['htmlNendo'] = List.generate(DateTime.now().year - 2000, (i) => (DateTime.now().year - i).toString());
    //filter['htmlJigen'] = {
    //  '全て対象': '|all target|',
    //  '1時限': '1',
    //  '2時限': '2',
    //  '3時限': '3',
    //  '4時限': '4',
    //  '5時限': '5',
    //  '6時限': '6',
    //  '7時限': '7',
    //};
    //filter['htmlYobi'] = {
    //  '全て対象': '|all target|',
    //  '月曜': '1',
    //  '火曜': '2',
    //  '水曜': '3',
    //  '木曜': '4',
    //  '金曜': '5',
    //  '土曜': '6',
    //  '日曜': '7',
    //};
    //filter['htmlGakunen'] = {
    //  '全て対象': '',
    //  '1': '1',
    //  '2': '2',
    //  '3': '3',
    //  '4': '4',
    //  '5': '5',
    //  '6': '6',
    //};
    //filter['htmlGakkiNo'] = {
    //  '全て対象': '',
    //  '前期': '1',
    //  '後期': '2',
    //  '1Ｑ': '11',
    //  '2Ｑ': '12',
    //  '3Ｑ': '13',
    //  '4Ｑ': '14',
    //};
    //filter['htmlKamokJugyo'] = {
    //  '全て対象': '|all target|',
    //  "演習・通年": "EA",
    //  "演習・前期": "EB",
    //  "演習・後期": "EC",
    //  "演習・四半期の１": "ED",
    //  "演習・四半期の２": "EE",
    //  "演習・四半期の３": "EF",
    //  "演習・四半期の４": "EG",
    //  "演習・通年集中": "EH",
    //  "演習・前期集中": "EI",
    //  "演習・後期集中": "EJ",
    //  "演習・通年隔週": "EK",
    //  "演習・前期隔週": "EM",
    //  "演習・後期隔週": "EO",
    //  "演習・六半期の１": "EQ",
    //  "演習・六半期の２": "ER",
    //  "演習・六半期の３": "ES",
    //  "演習・六半期の４": "ET",
    //  "演習・六半期の５": "EU",
    //  "演習・六半期の６": "EV",
    //  "実技・通年": "GA",
    //  "実技・前期": "GB",
    //  "実技・後期": "GC",
    //  "実技・四半期の１": "GD",
    //  "実技・四半期の２": "GE",
    //  "実技・四半期の３": "GF",
    //  "実技・四半期の４": "GG",
    //  "実技・通年集中": "GH",
    //  "実技・前期集中": "GI",
    //  "実技・後期集中": "GJ",
    //  "実技・通年隔週": "GK",
    //  "実技・前期隔週": "GM",
    //  "実技・後期隔週": "GO",
    //  "実技・六半期の１": "GQ",
    //  "実技・六半期の２": "GR",
    //  "実技・六半期の３": "GS",
    //  "実技・六半期の４": "GT",
    //  "実技・六半期の５": "GU",
    //  "実技・六半期の６": "GV",
    //  "実験・通年": "JA",
    //  "実験・前期": "JB",
    //  "実験・後期": "JC",
    //  "実験・四半期の１": "JD",
    //  "実験・四半期の２": "JE",
    //  "実験・四半期の３": "JF",
    //  "実験・四半期の４": "JG",
    //  "実験・通年集中": "JH",
    //  "実験・前期集中": "JI",
    //  "実験・後期集中": "JJ",
    //  "実験・通年隔週": "JK",
    //  "実験・前期隔週": "JM",
    //  "実験・後期隔週": "JO",
    //  "実験・六半期の１": "JQ",
    //  "実験・六半期の２": "JR",
    //  "実験・六半期の３": "JS",
    //  "実験・六半期の４": "JT",
    //  "実験・六半期の５": "JU",
    //  "実験・六半期の６": "JV",
    //  "講義・通年": "KA",
    //  "講義・前期": "KB",
    //  "講義・後期": "KC",
    //  "講義・四半期の１": "KD",
    //  "講義・四半期の２": "KE",
    //  "講義・四半期の３": "KF",
    //  "講義・四半期の４": "KG",
    //  "講義・通年集中": "KH",
    //  "講義・前期集中": "KI",
    //  "講義・後期集中": "KJ",
    //  "講義・通年隔週": "KK",
    //  "講義・前期隔週": "KM",
    //  "講義・後期隔週": "KO",
    //  "講義・六半期の１": "KQ",
    //  "講義・六半期の２": "KR",
    //  "講義・六半期の３": "KS",
    //  "講義・六半期の４": "KT",
    //  "講義・六半期の５": "KU",
    //  "講義・六半期の６": "KV",
    //  "実習・通年": "SA",
    //  "実習・前期": "SB",
    //  "実習・後期": "SC",
    //  "実習・四半期の１": "SD",
    //  "実習・四半期の２": "SE",
    //  "実習・四半期の３": "SF",
    //  "実習・四半期の４": "SG",
    //  "実習・通年集中": "SH",
    //  "実習・前期集中": "SI",
    //  "実習・後期集中": "SJ",
    //  "実習・通年隔週": "SK",
    //  "実習・前期隔週": "SM",
    //  "実習・後期隔週": "SO",
    //  "実習・六半期の１": "SQ",
    //  "実習・六半期の２": "SR",
    //  "実習・六半期の３": "SS",
    //  "実習・六半期の４": "ST",
    //  "実習・六半期の５": "SU",
    //  "実習・六半期の６": "SV",
    //  "卒研・通年": "ZA",
    //  "卒研・前期": "ZB",
    //  "卒研・後期": "ZC",
    //  "卒研・四半期の１": "ZD",
    //  "卒研・四半期の２": "ZE",
    //  "卒研・四半期の３": "ZF",
    //  "卒研・四半期の４": "ZG",
    //  "卒研・通年集中": "ZH",
    //  "卒研・前期集中": "ZI",
    //  "卒研・後期集中": "ZJ",
    //  "卒研・通年隔週": "ZK",
    //  "卒研・前期隔週": "ZM",
    //  "卒研・後期隔週": "ZO",
    //  "卒研・六半期の１": "ZQ",
    //  "卒研・六半期の２": "ZR",
    //  "卒研・六半期の３": "ZS",
    //  "卒研・六半期の４": "ZT",
    //  "卒研・六半期の５": "ZU",
    //  "卒研・六半期の６": "ZV",
    //};
    //filter['htmlGakka'] = {
    //  '全て対象': '|all target|',
    //  '東理大': '1',
    //  '東理大 理一': '11',
    //  '東理大 理一 教養': '110',
    //  '東理大 理一 数学': '111',
    //  '東理大 理一 物理': '112',
    //  '東理大 理一 化学': '113',
    //  '東理大 理一 応数': '114',
    //  '東理大 理一 応物': '115',
    //  '東理大 理一 応化': '116',
    //  '東理大 理二': '12',
    //  '東理大 理二 教養': '120',
    //  '東理大 理二 数学': '121',
    //  '東理大 理二 物理': '122',
    //  '東理大 理二 化学': '123',
    //  '東理大 薬': '13',
    //  '東理大 薬 薬': '13A',
    //  '東理大 薬 創薬': '13B',
    //  '東理大 工': '14',
    //  '東理大 工 教養': '140',
    //  '東理大 工 建築': '141',
    //  '東理大 工 工化': '142',
    //  '東理大 工 電工': '143',
    //  '東理大 工 経工': '144',
    //  '東理大 工 機工': '145',
    //  '東理大 工 情工': '146',
    //  '東理大 工二': '15',
    //  '東理大 工二 教養': '150',
    //  '東理大 工二 建築': '151',
    //  '東理大 工二 電工': '152',
    //  '東理大 工二 経工': '153',
    //  '東理大 理工': '16',
    //  '東理大 理工 教養': '160',
    //  '東理大 理工 数学': '161',
    //  '東理大 理工 物理': '162',
    //  '東理大 理工 情報': '163',
    //  '東理大 理工 応生': '164',
    //  '東理大 理工 建築': '165',
    //  '東理大 理工 先化': '166',
    //  '東理大 理工 電情': '167',
    //  '東理大 理工 経工': '168',
    //  '東理大 理工 機工': '169',
    //  '東理大 理工 土工': '16A',
    //  '東理大 基工': '17',
    //  '東理大 基工 教養': '170',
    //  '東理大 基工 電応': '171',
    //  '東理大 基工 材工': '172',
    //  '東理大 基工 生工': '173',
    //  '東理大 経営': '18',
    //  '東理大 経営 経営': '181',
    //  '東理大 経営 ビジ': '182',
    //  '東理大・専': '2',
    //  '東理大・専 理専': '22',
    //  '東理大・専 理専 数': '221',
    //  '東理大・専 理専 物': '222',
    //  '東理大・専 理専 化': '223',
    //  '東理大・院': '3',
    //  '東理大・院 理研': '31',
    //  '東理大・院 理研 数': '311',
    //  '東理大・院 理研 数 修': '3111',
    //  '東理大・院 理研 数 博': '3112',
    //  '東理大・院 理研 物': '312',
    //  '東理大・院 理研 物 修': '3121',
    //  '東理大・院 理研 物 博': '3122',
    //  '東理大・院 理研 化': '313',
    //  '東理大・院 理研 化 修': '3131',
    //  '東理大・院 理研 化 博': '3132',
    //  '東理大・院 理研 応数': '314',
    //  '東理大・院 理研 応数 修': '3141',
    //  '東理大・院 理研 応数 博': '3142',
    //  '東理大・院 理研 応物': '315',
    //  '東理大・院 理研 応物 修': '3151',
    //  '東理大・院 理研 応物 博': '3152',
    //  '東理大・院 理研 科教': '317',
    //  '東理大・院 理研 科教 修': '3171',
    //  '東理大・院 理研 科教 博': '3172',
    //  '東理大・院 総化研': '3B',
    //  '東理大・院 総化研 総化': '3B1',
    //  '東理大・院 総化研 総化 修': '3B11',
    //  '東理大・院 総化研 総化 博': '3B12',
    //  '東理大・院 科教研': '3C',
    //  '東理大・院 科教研 科教': '3C1',
    //  '東理大・院 科教研 科教 修': '3C11',
    //  '東理大・院 科教研 科教 博': '3C12',
    //  '東理大・院 薬研': '33',
    //  '東理大・院 薬研 薬': '331',
    //  '東理大・院 薬研 薬科': '33B',
    //  '東理大・院 薬研 薬科 修': '33B1',
    //  '東理大・院 薬研 薬科 博': '33B2',
    //  '東理大・院 薬研 薬 博': '33C2',
    //  '東理大・院 工研': '34',
    //  '東理大・院 工研 建築': '341',
    //  '東理大・院 工研 建築 修': '3411',
    //  '東理大・院 工研 建築 博': '3412',
    //  '東理大・院 工研 工化': '342',
    //  '東理大・院 工研 工化 修': '3421',
    //  '東理大・院 工研 工化 博': '3422',
    //  '東理大・院 工研 電工': '343',
    //  '東理大・院 工研 電工 修': '3431',
    //  '東理大・院 工研 電工 博': '3432',
    //  '東理大・院 工研 経工': '344',
    //  '東理大・院 工研 経工 修': '3441',
    //  '東理大・院 工研 経工 博': '3442',
    //  '東理大・院 工研 機工': '345',
    //  '東理大・院 工研 機工 修': '3451',
    //  '東理大・院 工研 機工 博': '3452',
    //  '東理大・院 火研': '3K',
    //  '東理大・院 火研 火科': '3K1',
    //  '東理大・院 火研 火科 修': '3K11',
    //  '東理大・院 火研 火科 博': '3K12',
    //  '東理大・院 理工研': '36',
    //  '東理大・院 理工研 数': '361',
    //  '東理大・院 理工研 数 修': '3611',
    //  '東理大・院 理工研 数 博': '3612',
    //  '東理大・院 理工研 物': '362',
    //  '東理大・院 理工研 物 修': '3621',
    //  '東理大・院 理工研 物 博': '3622',
    //  '東理大・院 理工研 情報': '363',
    //  '東理大・院 理工研 情報 修': '3631',
    //  '東理大・院 理工研 情報 博': '3632',
    //  '東理大・院 理工研 応生': '364',
    //  '東理大・院 理工研 応生 修': '3641',
    //  '東理大・院 理工研 応生 博': '3642',
    //  '東理大・院 理工研 建築': '365',
    //  '東理大・院 理工研 建築 修': '3651',
    //  '東理大・院 理工研 建築 博': '3652',
    //  '東理大・院 理工研 先化': '366',
    //  '東理大・院 理工研 先化 修': '3661',
    //  '東理大・院 理工研 先化 博': '3662',
    //  '東理大・院 理工研 電工': '367',
    //  '東理大・院 理工研 電工 修': '3671',
    //  '東理大・院 理工研 電工 博': '3672',
    //  '東理大・院 理工研 経工': '368',
    //  '東理大・院 理工研 経工 修': '3681',
    //  '東理大・院 理工研 経工 博': '3682',
    //  '東理大・院 理工研 機工': '369',
    //  '東理大・院 理工研 機工 修': '3691',
    //  '東理大・院 理工研 機工 博': '3692',
    //  '東理大・院 理工研 土工': '36A',
    //  '東理大・院 理工研 土工 修': '36A1',
    //  '東理大・院 理工研 土工 博': '36A2',
    //  '東理大・院 理工研 火災': '36B',
    //  '東理大・院 理工研 火災 修': '36B1',
    //  '東理大・院 理工研 火災 博': '36B2',
    //  '東理大・院 基工研': '37',
    //  '東理大・院 基工研 電応': '371',
    //  '東理大・院 基工研 電応 修': '3711',
    //  '東理大・院 基工研 電応 博': '3712',
    //  '東理大・院 基工研 材工': '372',
    //  '東理大・院 基工研 材工 修': '3721',
    //  '東理大・院 基工研 材工 博': '3722',
    //  '東理大・院 基工研 生工': '373',
    //  '東理大・院 基工研 生工 修': '3731',
    //  '東理大・院 基工研 生工 博': '3732',
    //  '東理大・院 基工研 ナノ': '37A',
    //  '東理大・院 経営研': '38',
    //  '東理大・院 経営研 経営': '381',
    //  '東理大・院 経営研 経営 修': '3811',
    //  '東理大・院 経営研 経営 博': '3812',
    //  '東理大・院 経営研 技経': '382',
    //  '東理大・院 経営研 技経 専門職学位課程': '3821',
    //  '東理大・院 生命研': '3A',
    //  '東理大・院 生命研 生命': '3A1',
    //  '東理大・院 生命研 生命 修': '3A11',
    //  '東理大・院 生命研 生命 博': '3A12',
    //  '東理大・院 イノベ研': '3M',
    //  '東理大・院 イノベ研 技経専攻１年': '3M1',
    //  '東理大・院 イノベ研 技経専攻１年 専門職学位課程': '3M11',
    //  '東理大・院 イノベ研 技経専攻': '3M2',
    //  '東理大・院 イノベ研 技経専攻 専門職学位課程': '3M21',
    //  '東理大・院 イノベ研 知財': '3M3',
    //  '東理大・院 イノベ研 知財 専門職学位課程': '3M31',
    //  '東理大・院 イノベ研 イノ': '3M4',
    //  '東理大・院 イノベ研 イノ 博': '3M42',
    //  '東理大・科': '4',
    //  '東理大・科 理一': '41',
    //  '東理大・科 理二': '42',
    //  '東理大・科 薬': '43',
    //  '東理大・科 工': '44',
    //  '東理大・科 工二': '45',
    //  '東理大・科 理工': '46',
    //  '東理大・科 基工': '47',
    //  '東理大・科 経営': '48',
    //  '東理大・科 理専': '49',
    //  '東理大・科 理研': '4A',
    //  '東理大・科 総化研': '4H',
    //  '東理大・科 科教研': '4I',
    //  '東理大・科 工研': '4B',
    //  '東理大・科 火研': '4K',
    //  '東理大・科 薬研': '4C',
    //  '東理大・科 理工研': '4D',
    //  '東理大・科 基工研': '4E',
    //  '東理大・科 経営研': '4F',
    //  '東理大・科 生命研': '4G',
    //  '東理大・科 イノベ研': '4M',
    //  '東理大・研': '5',
    //  '東理大・研 理一': '51',
    //  '東理大・研 理二': '52',
    //  '東理大・研 薬': '53',
    //  '東理大・研 工': '54',
    //  '東理大・研 工二': '55',
    //  '東理大・研 理工': '56',
    //  '東理大・研 基工': '57',
    //  '東理大・研 経営': '58',
    //  '東理大・研 理専': '59',
    //  '東理大・研 理研': '5A',
    //  '東理大・研 総化研': '5H',
    //  '東理大・研 科教研': '5I',
    //  '東理大・研 薬研': '5B',
    //  '東理大・研 工研': '5C',
    //  '東理大・研 火研': '5K',
    //  '東理大・研 理工研': '5D',
    //  '東理大・研 基工研': '5E',
    //  '東理大・研 経営研': '5F',
    //  '東理大・研 生命研': '5G',
    //  '東理大 6': '6',
    //  '東理大 総合研究所': '61',
    //  '東理大 総合研究所 火災科学研究部門': '610',
    //  '東理大 総合研究所 界面科学研究部門': '611',
    //  '東理大 総合研究所 リモート': '612',
    //  '東理大 総合研究所 インテリジェント': '613',
    //  '東理大 総合研究所 計算力学研究部門': '614',
    //  '東理大 総合研究所 高温超伝導': '615',
    //  '東理大 総合研究所 環境・エネルギー': '616',
    //  '東理大 総合研究所 基礎科学研究部門': '617',
    //  '東理大 総合研究所 先端材料研究部門': '618',
    //  '東理大 総合研究所 光科学研究部門': '619',
    //  '東理大 総合研究所 赤外自由電子': '61A',
    //  '東理大 総合研究機構': '63',
    //  '東理大 総合研究機構 研究部': '631',
    //  '東理大 総合研究機構 研究部 界面科学': '6311',
    //  '東理大 総合研究機構 研究部 インテリジェント': '6312',
    //  '東理大 総合研究機構 研究部 数学教育': '6313',
    //  '東理大 総合研究機構 研究部 インターフェース': '6314',
    //  '東理大 総合研究機構 研究部 人・未来': '6315',
    //  '東理大 総合研究機構 研究部 ものづくり・先端': '6316',
    //  '東理大 総合研究機構 研究部 次世代フォト': '6317',
    //  '東理大 総合研究機構 研究センター部': '635',
    //  '東理大 総合研究機構 研究センター部 赤外': '6351',
    //  '東理大 総合研究機構 研究センター部 先端': '6352',
    //  '東理大 総合研究機構 研究センター部 火災': '6353',
    //  '東理大 総合研究機構 研究センター部 ＤＤＳ': '6354',
    //  '東理大 総合研究機構 研究センター部 ゲノム': '6355',
    //  '東理大 総合研究機構 研究センター部 再生': '6356',
    //  '東理大 総合研究機構 研究センター部 ナノ': '6357',
    //  '東理大 総合研究機構 研究センター部 グリ': '6358',
    //  '東理大 総合研究機構 研究センター部 ホリ': '6359',
    //  '東理大 総合研究機構 研究センター部 人間': '635A',
    //  '東理大 総合研究機構 研究センター部 量子': '635B',
    //  '東理大 総合研究機構 研究センター部 ナノ粒子': '635C',
    //  '東理大 総合研究機構 研究センター部 ポリテク': '635D',
    //  '東理大 総合研究機構 研究技術部': '638',
    //  '東理大 総合研究機構 研究技術部 研機センター': '6381',
    //  '東理大 生命医科学研究所': '67',
    //  '東理大 生命医科学研究所 免疫生物学': '671',
    //  '東理大 生命医科学研究所 分子生物学': '672',
    //  '東理大 生命医科学研究所 生命情報科学': '673',
    //  '東理大 生命医科学研究所 分子病態学': '674',
    //  '東理大 生命医科学研究所 発生および老化': '675',
    //  '東理大 生命医科学研究所 細胞分化研究部門': '676',
    //  '東理大 生命医科学研究所 実験動物学研究': '678',
    //  '東理大 生命医科学研究所 共同研究部門': '677',
    //  '東理大 情報科学研究機構': '68',
    //  '東理大 情報科学研究機構 計算科学': '681',
    //  '東理大 情報科学研究機構 情報メディア': '682',
    //  '東理大 情報科学研究機構 情報科学教育': '683',
    //  '東理大 情報科学研究機構 バイオ': '684',
    //  '山理大': 'A',
    //  '山理大 基工': 'AE',
    //  '山理大 基工 教養': 'AE0',
    //  '山理大 基工 電情': 'AE1',
    //  '山理大 基工 物環': 'AE2',
    //  '山理大 工': 'AF',
    //  '山理大 工 教養': 'AF0',
    //  '山理大 工 機工': 'AF1',
    //  '山理大 工 電工': 'AF2',
    //  '山理大 工 応化': 'AF3',
    //  '山理大・院': 'B',
    //  '山理大・院 基工研': 'BE',
    //  '山理大・院 基工研 基工': 'BE1',
    //  '山理大・院 基工研 基工 修': 'BE11',
    //  '山理大・院 基工研 基工 博': 'BE12',
    //  '山理大・科': 'C',
    //  '山理大・科 山理大': 'CA',
    //  '山理大・研': 'D',
    //  '山理大・研 山理大': 'DA',
    //  '山理大 E': 'E',
    //  '山理大 液晶研究所': 'E1',
    //  '山理大 先材研究所': 'E2',
    //  '山短': 'F',
    //  '山短 教養': 'F0',
    //  '山短 生電': 'F1',
    //  '山短 材工': 'F2',
    //  '諏訪理大': 'J',
    //  '諏訪理大 共通セ': 'J0',
    //  '諏訪理大 シス工': 'JG',
    //  '諏訪理大 シス工 電シ': 'JG1',
    //  '諏訪理大 シス工 機シ': 'JG2',
    //  '諏訪理大 経情': 'JH',
    //  '諏訪理大 経情 経情': 'JH1',
    //  '諏訪理大 諏工 JS': 'JS',
    //  '諏訪理大 諏工 機工': 'JS1',
    //  '諏訪理大 諏工 電電': 'JS2',
    //  '諏訪理大 諏工 コメ': 'JS3',
    //  '諏訪理大 諏工 JT': 'JT',
    //  '諏訪理大 諏工 情応': 'JT1',
    //  '諏訪理大 諏工 機電': 'JT2',
    //  '諏訪理大　院': 'L',
    //  '諏訪理大　院 工マ研': 'LG',
    //  '諏訪理大　院 工マ研 工マ': 'LGH',
    //  '諏訪理大　院 工マ研 工マ 修': 'LGH1',
    //  '諏訪理大　院 工マ研 工マ 博': 'LGH2',
    //  '諏訪理大・科': 'K',
    //  '諏訪理大・科 諏訪理大': 'KJ',
    //  '諏訪理大・科 諏訪理大・院': 'KL',
    //  '諏訪理大・研': 'M',
    //  '諏訪理大・研 シ研': 'MG',
    //  '諏訪理大・研 経研': 'MH',
    //  '諏訪短': 'P',
    //  '諏訪短 教養': 'P0',
    //  '諏訪短 電子': 'P1',
    //  '諏訪短 生管': 'P2',
    //  '諏訪短 経情': 'P3',
    //  '諏訪短大・科': 'Q',
    //  '諏訪短大・科 諏訪短': 'QP',
    //};
    return filter;
  }
}
